<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Fsml__Fsm (fsml.Fsml__Fsm)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">fsml</a> &#x00BB; Fsml__Fsm</nav><h1>Module <code>Fsml__Fsm</code></h1><h2 id="finite-state-machines"><a href="#finite-state-machines" class="anchor"></a>Finite State Machines</h2></header><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code><code> = </code><code>{</code><table class="record"><tr id="type-t.id" class="anchored"><td class="def field"><a href="#type-t.id" class="anchor"></a><code>id : string;</code></td><td class="doc"><p>Name</p></td></tr><tr id="type-t.states" class="anchored"><td class="def field"><a href="#type-t.states" class="anchor"></a><code>states : <span><a href="../Fsml/State/index.html#type-t">Fsml.State.t</a> list</span>;</code></td></tr><tr id="type-t.itrans" class="anchored"><td class="def field"><a href="#type-t.itrans" class="anchor"></a><code>itrans : <a href="../Fsml/State/index.html#type-t">Fsml.State.t</a> * <span><a href="../Fsml/Action/index.html#type-t">Fsml.Action.t</a> list</span>;</code></td><td class="doc"><p>Initial transition</p></td></tr><tr id="type-t.inps" class="anchored"><td class="def field"><a href="#type-t.inps" class="anchor"></a><code>inps : <span>string list</span>;</code></td><td class="doc"><p>Inputs</p></td></tr><tr id="type-t.outps" class="anchored"><td class="def field"><a href="#type-t.outps" class="anchor"></a><code>outps : <span>string list</span>;</code></td><td class="doc"><p>Outputs</p></td></tr><tr id="type-t.vars" class="anchored"><td class="def field"><a href="#type-t.vars" class="anchor"></a><code>vars : <span>string list</span>;</code></td><td class="doc"><p>Local variables</p></td></tr><tr id="type-t.trans" class="anchored"><td class="def field"><a href="#type-t.trans" class="anchor"></a><code>trans : <span><a href="../Fsml/Transition/index.html#type-t">Fsml.Transition.t</a> list</span>;</code></td></tr></table><code>}</code></dt><dd><p>The static description of a FSM</p></dd></dl><dl><dt class="spec value" id="val-pp"><a href="#val-pp" class="anchor"></a><code><span class="keyword">val</span> pp : Ppx_deriving_runtime.Format.formatter <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> Ppx_deriving_runtime.unit</code></dt><dt class="spec value" id="val-show"><a href="#val-show" class="anchor"></a><code><span class="keyword">val</span> show : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> Ppx_deriving_runtime.string</code></dt><dt class="spec value" id="val-to_yojson"><a href="#val-to_yojson" class="anchor"></a><code><span class="keyword">val</span> to_yojson : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> Yojson.Safe.t</code></dt><dt class="spec value" id="val-of_yojson"><a href="#val-of_yojson" class="anchor"></a><code><span class="keyword">val</span> of_yojson : Yojson.Safe.t <span>&#45;&gt;</span> <span><a href="index.html#type-t">t</a> Ppx_deriving_yojson_runtime.error_or</span></code></dt><dt class="spec value" id="val-mk_trans"><a href="#val-mk_trans" class="anchor"></a><code><span class="keyword">val</span> mk_trans : string <span>&#45;&gt;</span> <a href="../Fsml/Transition/index.html#type-t">Fsml.Transition.t</a></code></dt><dd><p><code>mk_trans s</code> builds a FSM transition from a string representation. Example: <code>mk_trans &quot;S1 -&gt; S1 when c=0 with k:=1&quot;</code> is <code>(&quot;S1&quot;, [ERelop (&quot;=&quot;, EVar &quot;c&quot;, EInt 0)],[Assign (&quot;k&quot;, EInt 1)], &quot;E1&quot;)</code>. Raises <code>Lexing.Syntax_error</code> (with the current lookahead token) if parsing fails.</p></dd></dl><dl><dt class="spec value" id="val-to_string"><a href="#val-to_string" class="anchor"></a><code><span class="keyword">val</span> to_string : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string</code></dt><dd><p><code>to_string m</code> writes a representation of FSM <code>m</code> as a string using the <code>Yojson</code> library.</p></dd></dl><dl><dt class="spec value" id="val-from_string"><a href="#val-from_string" class="anchor"></a><code><span class="keyword">val</span> from_string : string <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>from_string s</code> returns the FSM <code>m</code> stored in string <code>s</code> using the <code>Yojson</code> library</p></dd></dl><dl><dt class="spec value" id="val-to_file"><a href="#val-to_file" class="anchor"></a><code><span class="keyword">val</span> to_file : <span>fname:string</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>to_file f</code> writes a representation of FSM <code>m</code> in file <code>f</code> using the <code>Yojson</code> library.</p></dd></dl><dl><dt class="spec value" id="val-from_file"><a href="#val-from_file" class="anchor"></a><code><span class="keyword">val</span> from_file : <span>fname:string</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>from_file f</code> returns the FSM <code>m</code> stored in file <code>f</code> using the <code>Yojson</code> library</p></dd></dl><dl><dt class="spec type" id="type-ctx"><a href="#type-ctx" class="anchor"></a><code><span class="keyword">type</span> ctx</code><code> = </code><code>{</code><table class="record"><tr id="type-ctx.state" class="anchored"><td class="def field"><a href="#type-ctx.state" class="anchor"></a><code>state : <a href="../Fsml/State/index.html#type-t">Fsml.State.t</a>;</code></td></tr><tr id="type-ctx.env" class="anchored"><td class="def field"><a href="#type-ctx.env" class="anchor"></a><code>env : <a href="../Fsml/Expr/index.html#type-env">Fsml.Expr.env</a>;</code></td></tr></table><code>}</code></dt><dd><p>A context is the dynamic view of a FSM. It records its current state and, in <code>env</code>, the value of its inputs, outputs and local variables.</p></dd></dl><dl><dt class="spec value" id="val-pp_ctx"><a href="#val-pp_ctx" class="anchor"></a><code><span class="keyword">val</span> pp_ctx : Ppx_deriving_runtime.Format.formatter <span>&#45;&gt;</span> <a href="index.html#type-ctx">ctx</a> <span>&#45;&gt;</span> Ppx_deriving_runtime.unit</code></dt><dt class="spec value" id="val-show_ctx"><a href="#val-show_ctx" class="anchor"></a><code><span class="keyword">val</span> show_ctx : <a href="index.html#type-ctx">ctx</a> <span>&#45;&gt;</span> Ppx_deriving_runtime.string</code></dt><dt class="spec value" id="val-step"><a href="#val-step" class="anchor"></a><code><span class="keyword">val</span> step : <a href="index.html#type-ctx">ctx</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-ctx">ctx</a></code></dt><dd><p><code>step ctx m</code> performs one simulation step, within context <code>ctx</code> of FSM <code>m</code>. The first fireable transition is selected according to the current state and value of the inputs and local variables. The actions associated to this transition are executed and both the state and context are updated accordingly. If no fireable transition is found, the context is left unchanged.</p></dd></dl></div></body></html>