<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Parse (fsml.Fsml.Parse)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">fsml</a> &#x00BB; <a href="../index.html">Fsml</a> &#x00BB; Parse</nav><h1>Module <code>Fsml.Parse</code></h1></header><aside><p>Interface to the Menhir parsers</p></aside><dl><dt class="spec exception" id="exception-Error"><a href="#exception-Error" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">Error</span> <span class="keyword">of</span> int * int * string * string</code></dt><dd><p>Raised when parsing PPX nodes</p></dd></dl><dl><dt class="spec value" id="val-guard"><a href="#val-guard" class="anchor"></a><code><span class="keyword">val</span> guard : string <span>&#45;&gt;</span> <a href="../Guard/index.html#type-t">Guard.t</a></code></dt><dd><p><code>guard s</code> builds an guard from a string representation. The syntax of the string is <i>exp</i>, where <i>exp</i> denotes a boolean expression.</p><p>For example : <code>start='1'</code> or <code>k&lt;2</code></p><p>Raises <a href="index.html#exception-Error"><code>Error</code></a> if parsing <code>s</code> or if <i>exp</i> does not denote a boolean expression.</p><p>The <code>Parse.guard</code> function can be invoked using the <code>%fsm_guard</code> PPX extension. In this case, <code>Parse.guard s</code> is denoted <code>[%fsm_guard s]</code></p><p>When using the PPX extension, syntax errors in the transition description are detected and reported at compile time.</p></dd></dl><dl><dt class="spec value" id="val-guards"><a href="#val-guards" class="anchor"></a><code><span class="keyword">val</span> guards : string <span>&#45;&gt;</span> <span><a href="../Guard/index.html#type-t">Guard.t</a> list</span></code></dt><dd><p><code>guard s</code> builds a list of guards from a string representation. The syntax of the string is <i>exp1,...,expn</i>, where each <i>expi</i> denotes a boolean expression.</p><p>For example : <code>start='1', k&lt;2</code></p><p>Raises <a href="index.html#exception-Error"><code>Error</code></a> if parsing <code>s</code> or if <i>expi</i> does not denote a boolean expression.</p><p>The <code>Parse.guards</code> function can be invoked using the <code>%fsm_guards</code> PPX extension. In this case, <code>Parse.guards s</code> is denoted <code>[%fsm_guards s]</code></p><p>When using the PPX extension, syntax errors in the transition description are detected and reported at compile time.</p></dd></dl><dl><dt class="spec value" id="val-action"><a href="#val-action" class="anchor"></a><code><span class="keyword">val</span> action : string <span>&#45;&gt;</span> <a href="../Action/index.html#type-t">Action.t</a></code></dt><dd><p><code>action s</code> builds an action from a string representation. The syntax of the string is <i>var</i> <code>:=</code> <i>exp</i></p><p>For example : <code>rdy:=0</code></p><p>Raises <a href="index.html#exception-Error"><code>Error</code></a> if parsing <code>s</code> fails.</p><p>The <code>Parse.action</code> function can be invoked using the <code>%fsm_action</code> PPX extension. In this case, <code>Parse.action s</code> is denoted <code>[%fsm_action s]</code></p><p>When using the PPX extension, syntax errors in the transition description are detected and reported at compile time.</p></dd></dl><dl><dt class="spec value" id="val-actions"><a href="#val-actions" class="anchor"></a><code><span class="keyword">val</span> actions : string <span>&#45;&gt;</span> <span><a href="../Action/index.html#type-t">Action.t</a> list</span></code></dt><dd><p><code>action s</code> builds a list of actions from a string representation. The syntax of the string is <i>act1, ..., actn</i> where <i>act</i> is an action.</p><p>For example : <code>rdy:=0, s:=1</code></p><p>Raises <a href="index.html#exception-Error"><code>Error</code></a> if parsing <code>s</code> fails.</p><p>The <code>Parse.actions</code> function can be invoked using the <code>%fsm_actions</code> PPX extension. In this case, <code>Parse.actions s</code> is denoted <code>[%fsm_actions s]</code></p><p>When using the PPX extension, syntax errors in the transition description are detected and reported at compile time.</p></dd></dl><dl><dt class="spec value" id="val-transition"><a href="#val-transition" class="anchor"></a><code><span class="keyword">val</span> transition : string <span>&#45;&gt;</span> <a href="../Transition/index.html#type-t">Transition.t</a></code></dt><dd><p><code>transition s</code> builds a transition from a string representation. The syntax of the string is</p><p><i>src</i> <code>-&gt;</code> <i>dst</i> [ <code>when</code> <i>guard</i><sub>1</sub> <b>,</b> ... <b>,</b> <i>guard</i><sub>m</sub> ] [ <code>with</code> <i>act</i><sub>1</sub> <b>,</b> ... <b>,</b> <i>act</i><sub>n</sub> ]</p><p>where</p><ul><li><i>src</i> is the name of the source state</li><li><i>dst</i> is the name of the destination state</li><li><i>guard</i> is a boolean expression</li><li><i>act</i> is an action, of the form <i>var</i> <code>:=</code> <i>exp</i></li></ul><p>For example : <code>t = Parse.transition &quot;S0 -&gt; S1 when s=0 with rdy:=0, k:=k=1&quot;</code></p><p>Raises <a href="index.html#exception-Error"><code>Error</code></a> if parsing <code>s</code> fails.</p><p>The <code>Parse.transition</code> function can be invoked using the <code>%fsm_trans</code> PPX extension. In this case, <code>Parse.transition s</code> is denoted <code>[%fsm_trans s]</code>.</p><p>When using the PPX extension, syntax errors in the transition description are detected and reported at compile time.</p></dd></dl><dl><dt class="spec value" id="val-fsm"><a href="#val-fsm" class="anchor"></a><code><span class="keyword">val</span> fsm : string <span>&#45;&gt;</span> <a href="../Fsm/index.html#type-t">Fsm.t</a></code></dt><dd><p><code>fsm s</code> builds a FSM from a string representation. The syntax of the string is</p><p><code>&quot;</code><code>name:</code> <i>name</i> <code>;</code></p><p><code>states:</code> <i>state</i><sub>1</sub>, <code>...</code>, <i>state</i><sub>ns</sub> <code>;</code></p><p><code>inputs:</code> <i>in</i><sub>1</sub>, <code>...</code>, <i>in</i><sub>ni</sub> <code>;</code></p><p><code>outputs:</code> <i>out</i><sub>1</sub>, <code>...</code>, <i>out</i><sub>no</sub> <code>;</code></p><p>[<code>vars:</code> <i>var</i><sub>1</sub>, <code>...</code>, <i>var</i><sub>nv</sub> <code>;</code>]</p><p><code>trans:</code> <i>t</i><sub>1</sub>; <code>...</code>; <i>t</i><sub>nt</sub> <code>;</code></p><p><code>itrans:</code> <code>-&gt;</code> <i>state</i> [<code>with</code> <i>act</i><sub>1</sub>, <code>...</code>, <i>act</i><sub>na</sub>]<code>&quot;</code></p><p>where</p><ul><li><i>name</i> is the name of defined FSM</li><li><i>state</i><sub>1</sub>, ..., <i>state</i><sub>ns</sub> is a comma-separated list of state names</li><li><i>in</i><sub>1</sub>, ..., <i>in</i><sub>ni</sub> is a comma-separated list of input names</li><li><i>out</i><sub>1</sub>, ..., <i>out</i><sub>no</sub> is a comma-separated list of output names</li><li><i>var</i><sub>1</sub>, ..., <i>out</i><sub>nv</sub> is an optional, comma-separated list of local variable names</li><li><i>t</i><sub>1</sub>, ..., <i>t</i><sub>nt</sub> is a semicolon-separated list of transitions (with syntax defined in <a href="index.html#val-transition"><code>transition</code></a>)</li><li><i>act</i><sub>1</sub>, ..., <i>act</i><sub>na</sub> is an optional, comma-separated list of initial actions</li></ul><p>For example : <code>
      &quot;name: f1;
       states: E0, E1;
       inputs: e;
       outputs: s;
       trans:
          E0 -&gt; E1 when e=1 with s:=1;
          E1 -&gt; E0 when e=0 with s:=0;
      itrans: -&gt; Init with s:=0;&quot;
      </code></p><p>Raises <a href="index.html#exception-Error"><code>Error</code></a> if parsing <code>s</code> fails.</p><p>The <code>Parse.fsm</code> function can be invoked using the <code>%fsm</code> PPX extension. In this case, <code>Parse.fsm s</code> is denoted <code>[%fsm s]</code>.</p><p>When using the PPX extension, syntax errors in the transition description are detected and reported at compile time.</p></dd></dl><dl><dt class="spec value" id="val-stimuli"><a href="#val-stimuli" class="anchor"></a><code><span class="keyword">val</span> stimuli : string <span>&#45;&gt;</span> <span><a href="../Tevents/index.html#type-t">Tevents.t</a> list</span></code></dt><dd><p><code>stimuli s</code> builds a sequence of stimuli from a string representation. The syntax of the string is</p><p>&quot;<i>name</i> <code>:</code> <i>t</i><sub>1</sub> <code>,</code> <i>v</i><sub>1</sub> <code>;</code> ..., <code>;</code> <i>t</i><sub>m</sub> <code>,</code> <i>v</i><sub>m</sub>&quot;</p><p>where <i>t</i> is a clock cycle counter and <i>v</i> a value.</p><p>For example, the sequence <code>stimuli &quot;start: 0,'1'; 2,'0'&quot;</code>, where <code>start</code> is a signal of type <code>bool</code></p><ul><li>set <code>start</code> to <code>'1'</code> (<code>true</code>) at time step 0</li><li>set <code>start</code> to <code>'0'</code> (<code>false</code>) at time step 2</li></ul><p>The <code>Parse.stimuli</code> function can be invoked using the <code>%fsm_stim</code> PPX extension. In this case, <code>Parse.stimuli s</code> is denoted <code>[%fsm_stim s]</code>.</p><p>Raises <a href="index.html#exception-Error"><code>Error</code></a> if parsing <code>s</code> fails.</p><p>When using the PPX extension, syntax errors in the transition description are detected and reported at compile time.</p></dd></dl></div></body></html>