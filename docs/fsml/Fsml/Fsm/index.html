<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Fsm (fsml.Fsml.Fsm)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">fsml</a> &#x00BB; <a href="../index.html">Fsml</a> &#x00BB; Fsm</nav><h1>Module <code>Fsml.Fsm</code></h1><nav class="toc"><ul><li><a href="#finite-state-machines">Finite State Machines</a><ul><li><a href="#transformation-functions">Transformation functions</a></li><li><a href="#json-export/import">JSON export/import</a></li></ul></li></ul></nav></header><section><header><h2 id="finite-state-machines"><a href="#finite-state-machines" class="anchor"></a>Finite State Machines</h2></header><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code><code> = </code><code>{</code><table class="record"><tr id="type-t.id" class="anchored"><td class="def field"><a href="#type-t.id" class="anchor"></a><code>id : string;</code></td><td class="doc"><p>Name</p></td></tr><tr id="type-t.states" class="anchored"><td class="def field"><a href="#type-t.states" class="anchor"></a><code>states : <span><span>(<a href="../State/index.html#type-t">State.t</a> * <a href="../Valuation/index.html#type-t">Valuation.t</a>)</span> list</span>;</code></td></tr><tr id="type-t.inps" class="anchored"><td class="def field"><a href="#type-t.inps" class="anchor"></a><code>inps : <span><span>(string * <a href="../Types/index.html#type-t">Types.t</a>)</span> list</span>;</code></td><td class="doc"><p>Inputs</p></td></tr><tr id="type-t.outps" class="anchored"><td class="def field"><a href="#type-t.outps" class="anchor"></a><code>outps : <span><span>(string * <a href="../Types/index.html#type-t">Types.t</a>)</span> list</span>;</code></td><td class="doc"><p>Outputs</p></td></tr><tr id="type-t.vars" class="anchored"><td class="def field"><a href="#type-t.vars" class="anchor"></a><code>vars : <span><span>(string * <a href="../Types/index.html#type-t">Types.t</a>)</span> list</span>;</code></td><td class="doc"><p>Local variables</p></td></tr><tr id="type-t.trans" class="anchored"><td class="def field"><a href="#type-t.trans" class="anchor"></a><code>trans : <span><a href="../Transition/index.html#type-t">Transition.t</a> list</span>;</code></td></tr><tr id="type-t.itrans" class="anchored"><td class="def field"><a href="#type-t.itrans" class="anchor"></a><code>itrans : <a href="../State/index.html#type-t">State.t</a> * <span><a href="../Action/index.html#type-t">Action.t</a> list</span>;</code></td><td class="doc"><p>Initial transition</p></td></tr></table><code>}</code></dt><dd><p>The static description of a FSM</p></dd></dl><dl><dt class="spec value" id="val-pp"><a href="#val-pp" class="anchor"></a><code><span class="keyword">val</span> pp : Ppx_deriving_runtime.Format.formatter <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> Ppx_deriving_runtime.unit</code></dt><dt class="spec value" id="val-show"><a href="#val-show" class="anchor"></a><code><span class="keyword">val</span> show : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> Ppx_deriving_runtime.string</code></dt><dt class="spec value" id="val-to_yojson"><a href="#val-to_yojson" class="anchor"></a><code><span class="keyword">val</span> to_yojson : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> Yojson.Safe.t</code></dt><dt class="spec value" id="val-of_yojson"><a href="#val-of_yojson" class="anchor"></a><code><span class="keyword">val</span> of_yojson : Yojson.Safe.t <span>&#45;&gt;</span> <span><a href="index.html#type-t">t</a> Ppx_deriving_yojson_runtime.error_or</span></code></dt></dl><section><header><h3 id="transformation-functions"><a href="#transformation-functions" class="anchor"></a>Transformation functions</h3></header><dl><dt class="spec exception" id="exception-Unknown_output"><a href="#exception-Unknown_output" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">Unknown_output</span> <span class="keyword">of</span> string</code></dt></dl><dl><dt class="spec value" id="val-mealy_outps"><a href="#val-mealy_outps" class="anchor"></a><code><span class="keyword">val</span> mealy_outps : <span>?&#8288;outps:<span>string list</span></span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>mealy_outps os m</code> returns the FSM obtained by moving the assignation of outputs listed in <code>outps</code> from states to all incoming transitions. When the <code>outps</code> parameter is empty or omitted, the transformation is applied to all outputs occuring in each state. Raises <code>Unknown_output</code> if <code>outps</code> contains a symbol not declared as output.</p></dd></dl><dl><dt class="spec value" id="val-moore_outps"><a href="#val-moore_outps" class="anchor"></a><code><span class="keyword">val</span> moore_outps : <span>?&#8288;outps:<span>string list</span></span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>moore_outps os m</code> is the dual function of <a href="index.html#val-mealy_outps"><code>mealy_outps</code></a>. For each output <code>o</code> listed in in <code>outps</code>, whenever all transitions leading to a state <code>s</code> carry the same action <code>o:=v</code>, it removes these actions and adds the assignation <code>o=v</code> to state <code>s</code>. The transformation is not applied if</p><ul><li>the corresponding action does not occur on all transitions leading to state <code>s</code>,</li><li>the value assigned to output <code>o</code> is not a constant,</li><li>not all actions assign the same value to <code>o</code> If <code>outps</code> is omitted ot empty, the transformation is applied to all outputs. Raises <code>Unknown_output</code> if <code>outps</code> contains a symbol not declared as output.</li></ul></dd></dl><dl><dt class="spec exception" id="exception-Unknown_var"><a href="#exception-Unknown_var" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">Unknown_var</span> <span class="keyword">of</span> string</code></dt><dt class="spec exception" id="exception-Illegal_var_type"><a href="#exception-Illegal_var_type" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">Illegal_var_type</span> <span class="keyword">of</span> string * <a href="../Types/index.html#type-t">Types.t</a></code></dt></dl><dl><dt class="spec value" id="val-defactorize"><a href="#val-defactorize" class="anchor"></a><code><span class="keyword">val</span> defactorize : <span>vars:<span><span>(string * <a href="../Expr/index.html#type-e_val">Expr.e_val</a>)</span> list</span></span> <span>&#45;&gt;</span> <span>?&#8288;cleaned:bool</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>defactorize vars m</code> returns an equivalent FSM obtained by removing variable listed in <code>vars</code> from <code>m</code> and introducing new states accordingly. The value attached to each variable is used to select the initial state in the defactorized FSM. Unreachable states are removed from the resulting automata unlesse the optional argument <code>clean</code> is set to false. Raises <a href="index.html#exception-Unknown_var"><code>Unknown_var</code></a> if <code>vars</code> contains a symbol not declared as variable. Raises <a href="index.html#exception-Illegal_var_type"><code>Illegal_var_type</code></a> if the specified var(s) do(es) not have an enumerable type (i.e. have not been declared with a range).</p></dd></dl><dl><dt class="spec value" id="val-clean"><a href="#val-clean" class="anchor"></a><code><span class="keyword">val</span> clean : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>clean m</code> removes all unreachable states (and associated transitions) from m</p></dd></dl></section><section><header><h3 id="json-export/import"><a href="#json-export/import" class="anchor"></a>JSON export/import</h3></header><dl><dt class="spec value" id="val-to_string"><a href="#val-to_string" class="anchor"></a><code><span class="keyword">val</span> to_string : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string</code></dt><dd><p><code>to_string m</code> writes a representation of FSM <code>m</code> as a string using the <code>Yojson</code> library.</p></dd></dl><dl><dt class="spec value" id="val-from_string"><a href="#val-from_string" class="anchor"></a><code><span class="keyword">val</span> from_string : string <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>from_string s</code> returns the FSM <code>m</code> stored in string <code>s</code> using the <code>Yojson</code> library</p></dd></dl><dl><dt class="spec value" id="val-to_file"><a href="#val-to_file" class="anchor"></a><code><span class="keyword">val</span> to_file : <span>fname:string</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>to_file f</code> writes a representation of FSM <code>m</code> in file <code>f</code> using the <code>Yojson</code> library.</p></dd></dl><dl><dt class="spec value" id="val-from_file"><a href="#val-from_file" class="anchor"></a><code><span class="keyword">val</span> from_file : <span>fname:string</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>from_file f</code> returns the FSM <code>m</code> stored in file <code>f</code> using the <code>Yojson</code> library</p></dd></dl></section></section></div></body></html>